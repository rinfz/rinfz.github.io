---
import Layout from "../layouts/Layout.astro";
import { simpleDate } from "../lib";

const allPosts = (await Astro.glob("./post/*.md")).sort(
  (a, b) => new Date(b.frontmatter.date).valueOf() - new Date(a.frontmatter.date).valueOf()
);
---

<Layout title="Barely Laughing - Posts">
  {allPosts.map((post) => (<div class="flex space-x-5">
    <span>{simpleDate(post.frontmatter.date)}</span>
    <span class="flex-1"><a href={post.url}>{post.frontmatter.title}</a></span>
    <span>{post.frontmatter.tags}</span>
  </div>))}
</Layout>